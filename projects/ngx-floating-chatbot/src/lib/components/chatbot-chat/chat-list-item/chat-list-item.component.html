<li class="chat-row from-user">
  <div class="chat-bubble">{{ data.question }}</div>
</li>
<li class="chat-row from-bot">
  <div class="chat-bubble">
    <ng-container *ngIf="data.answer | async as answer; else loading">
      <div class="chat-bubble-content">
        {{ answer }}
      </div>
    </ng-container>
    <ng-template #loading>
      <div class="loading-bar"></div>
      <div class="loading-bar second-line"></div>
    </ng-template>

    <div *ngIf="data.done | async" class="action-box">
      <button class="chatbot-btn" [ngClass]="{ focus: showCommentArea }" (click)="toggleCommentArea()">
        <fa-icon [icon]="['fas', 'thumbs-down']" transform="shrink-4"></fa-icon>
      </button>
      <button class="chatbot-btn" (click)="regenerate()">
        <fa-icon [icon]="['fas', 'arrows-rotate']" transform="shrink-4"></fa-icon>
      </button>
    </div>

    <div *ngIf="showCommentArea" class="comment-input">
      <div class="title-box">
        {{ 'Tell us moreï¼š' }}

        <button class="close-btn" (click)="toggleCommentArea()">
          <fa-icon [icon]="['fas', 'xmark']" transform="grow-3"></fa-icon>
        </button>
      </div>
      <textarea rows="1" spellcheck="true" [(ngModel)]="commentInput"
        placeholder="Enter your feedback here..."></textarea>
      <div class="bottom-box">
        <button mat-button class="submit-btn" (click)="submit()">
          {{ 'Submit' }}
        </button>
      </div>
    </div>
  </div>
</li>